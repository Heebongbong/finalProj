<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<!-- namespace 명은 패키지를 포함한 DAO 인터페이스, mapper를 구분하는 식별자로 사용 -->
<mapper namespace="boardDAO">
	<select id="board_list" resultType="boardDTO">
		select * from community
	</select>
	
	<insert id="board_insert" parameterType="boardDTO">
	<selectKey keyProperty="cm_no" resultType="int" order="BEFORE">
		select max(cm_no) from community
	</selectKey>
        insert into community (cm_no, user_no, hashtag, content, date, photo_folder)
        values (#{cm_no} +1, #{user_no}, #{hashtag}, #{content}, now(), #{photo_folder})
    </insert>
    
</mapper>